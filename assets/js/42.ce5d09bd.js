(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{493:function(a,t,s){"use strict";s.r(t);var e=s(14),r=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h3",{attrs:{id:"nativescript-cli-6-0-中的更新-默认情况下捆绑工作流-仅-webpack-和-hmr"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nativescript-cli-6-0-中的更新-默认情况下捆绑工作流-仅-webpack-和-hmr"}},[a._v("#")]),a._v(" NativeScript CLI 6.0 中的更新：默认情况下捆绑工作流，仅 Webpack 和 HMR")]),a._v(" "),s("Meta"),a._v(" "),s("p",[a._v("NativeScript 6.0 仅适用于 webpack！现在，NativeScript CLI 依靠 webpack 来构建您的应用程序代码。")]),a._v(" "),s("h4",{attrs:{id:"之前"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#之前"}},[a._v("#")]),a._v(" 之前")]),a._v(" "),s("p",[a._v("在 6.0 版之前，NativeScript 支持两种构建项目的方式：")]),a._v(" "),s("ul",[s("li",[s("p",[a._v("tns build- 传统工作流程，它复制源代码目录（“ src /”）的全部内容；")])]),a._v(" "),s("li",[s("p",[a._v("tns build --bundle- 在 Bundle 工作流程，其依赖于的 WebPack 捆绑源代码目录（“ SRC /”）到几个输出文件。")])])]),a._v(" "),s("p",[a._v("捆绑包工作流位于捆绑包标志后面。您不仅可以在构建过程中使用它，还可以在开发过程中使用它：")]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[a._v("tns run --bundle\ntns preview --bundle\ntns debug --bundle\ntns "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v(" --bundle\n")])])]),s("p",[a._v("捆绑软件工作流程还支持使用 hmr 标志替换热模块。")]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[a._v("tns run --bundle --hmr\n")])])]),s("h4",{attrs:{id:"仅限-webpack"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#仅限-webpack"}},[a._v("#")]),a._v(" 仅限 Webpack")]),a._v(" "),s("p",[a._v("从 6.0 版开始，NativeScript CLI 仅支持 webpack 的捆绑工作流程。旧版工作流程不再可用。现在，所有构建应用程序代码的 CLI 命令都使用捆绑工作流程：")]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[a._v("tns build\ntns run\ntns preview\ntns prepare\ntns debug\ntns "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("test")]),a._v("\n")])])]),s("h4",{attrs:{id:"该束标志"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#该束标志"}},[a._v("#")]),a._v(" 该束标志")]),a._v(" "),s("p",[a._v("您仍然可以将捆绑标志提供给上述任何命令。它不会以任何方式改变他们的行为。但是，您不能关闭捆绑包标志，也不能禁用捆绑包工作流程。")]),a._v(" "),s("h4",{attrs:{id:"将同步所有文件标志"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#将同步所有文件标志"}},[a._v("#")]),a._v(" 将同步所有文件标志")]),a._v(" "),s("p",[a._v("将同步所有文件标志不再可用。提供它用于监视 node_modules 目录中的更改并在开发过程中使其同步。使用捆绑软件工作流程，该工作将自动完成。监视文件的工作流程是：")]),a._v(" "),s("ol",[s("li",[s("p",[a._v("Webpack 监视源代码中所需的所有文件，而不管它们的位置（应用程序或 node_modules）；")])]),a._v(" "),s("li",[s("p",[a._v("NativeScript CLI 开始监视本机文件：")])])]),a._v(" "),s("ul",[s("li",[a._v("App_Resources 中的文件")]),a._v(" "),s("li",[a._v("nativescript 插件的平台目录")]),a._v(" "),s("li",[a._v("nativescript 插件的 package.json 文件")])]),a._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[a._v("NativeScript CLI 还监视应用程序的 package.json 文件（"),s("code",[a._v("my-project/package.json")]),a._v("和"),s("code",[a._v("my-project/app/package-json")]),a._v("）。")])]),a._v(" "),s("h4",{attrs:{id:"默认情况下更换热模块"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#默认情况下更换热模块"}},[a._v("#")]),a._v(" 默认情况下更换热模块")]),a._v(" "),s("p",[a._v("现在默认情况下启用热模块更换。现在，以下命令可用于 HMR：")]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[a._v("tns run\ntns preview\ntns debug "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("android"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("ios"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n")])])]),s("p",[a._v("您可以使用 no-hmr 标志禁用热模块更换：")]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[a._v("tns run --no-hmr\ntns preview --no-hmr\ntns debug "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("android"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("ios"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" --no-hmr\n")])])]),s("p",[a._v("NativeScript 团队强烈建议在应用程序开发期间使用热模块替换。HMR 可以大大减少更改之间的重新加载时间，并改善您的开发经验。")]),a._v(" "),s("p",[a._v("有关 NativeScript 中的 HMR 的更多信息，请查看“深度学习”博客文章系列。")]),a._v(" "),s("h4",{attrs:{id:"以生产模式构建"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#以生产模式构建"}},[a._v("#")]),a._v(" 以生产模式构建")]),a._v(" "),s("p",[a._v("Webpack 有两种编译模式 -开发和生产。默认模式是开发。")]),a._v(" "),s("p",[a._v("在 NativeScript 6.0 之前，提供用于启用生产模式的 env.uglify 标志。")]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Webpack builds in production mode")]),a._v("\ntns build --bundle --env.uglify\n")])])]),s("p",[a._v("在 NativeScript 6.0 中，提供发布标志将启用生产模式。该 env.uglify 标志已不改变编译模式。它仅告诉 webpack 使用 TerserPlugin 最小化捆绑包。")]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Webpack builds in production mode")]),a._v("\ntns build --release --keyStorePath ~/my.keystore --keyStorePassword myPass --keyStoreAlias myAlias --keyStoreAliasPassword myAliasPass\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Webpack builds in development mode")]),a._v("\ntns build --bundle --env.uglify\n")])])]),s("h4",{attrs:{id:"nativescript-dev-webpack-1-0"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nativescript-dev-webpack-1-0"}},[a._v("#")]),a._v(" nativescript-dev-webpack 1.0")]),a._v(" "),s("p",[a._v("nativescript-dev-webpack 是包含与 webpack 相关的所有构建逻辑的软件包。每个 NativeScript 6.0 项目都需要依赖该软件包，该软件包现在具有其第一个稳定版本 -1.0！")]),a._v(" "),s("h4",{attrs:{id:"钩子"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#钩子"}},[a._v("#")]),a._v(" 钩子")]),a._v(" "),s("p",[a._v("所述 nativescript-DEV-的 WebPack 包插头插入使用钩 NativeScript CLI 构建。将 CLI 迁移到捆绑工作流程需要对 hooks API 进行更改。其中某些可能无法使用 NativeScript 插件。有关更多信息，请查看有关将 CLI 挂钩迁移到 NativeScript 6.0 的博客文章。")]),a._v(" "),s("Vssue",{attrs:{title:"updates-in-the-nativescript-cli-6.0-bundle-workflow-webpack-only-and-hmr-by-default"}})],1)}),[],!1,null,null,null);t.default=r.exports}}]);