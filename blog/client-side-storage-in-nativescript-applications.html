<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>NativeScript 应用程序中的客户端存储 | NativeScript-Vue-Examples</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/img/favicon.ico">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/img/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/img/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <link rel="alternate" type="application/rss+xml" href="https://nativescript-vue-examples.luzhaoyang.com/rss.xml" title="NativeScript-Vue-Examples RSS Feed">
    <link rel="alternate" type="application/atom+xml" href="https://nativescript-vue-examples.luzhaoyang.com/feed.atom" title="NativeScript-Vue-Examples Atom Feed">
    <link rel="alternate" type="application/json" href="https://nativescript-vue-examples.luzhaoyang.com/feed.json" title="NativeScript-Vue-Examples JSON Feed">
    <meta name="description" content="🍈 NativeScript and Vue code samples.">
    <meta property="article:modified_time" content="2019-12-17T15:05:35.000Z">
    <meta property="og:site_name" content="NativeScript-Vue-Examples">
    <meta property="og:title" content="NativeScript 应用程序中的客户端存储">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/blog/client-side-storage-in-nativescript-applications.html">
    <meta name="twitter:title" content="NativeScript 应用程序中的客户端存储">
    <meta name="twitter:url" content="/blog/client-side-storage-in-nativescript-applications.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/img/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    <link rel="preload" href="/assets/css/0.styles.ca1297bc.css" as="style"><link rel="preload" href="/assets/js/app.77081b16.js" as="script"><link rel="preload" href="/assets/js/7.7d754c08.js" as="script"><link rel="preload" href="/assets/js/23.a023ffe1.js" as="script"><link rel="preload" href="/assets/js/9.34b8a5e4.js" as="script"><link rel="preload" href="/assets/js/2.758fdfb9.js" as="script"><link rel="preload" href="/assets/js/1.2ee72ac7.js" as="script"><link rel="preload" href="/assets/js/10.8b7aa78d.js" as="script"><link rel="preload" href="/assets/js/12.8241bb75.js" as="script"><link rel="prefetch" href="/assets/js/100.e078b246.js"><link rel="prefetch" href="/assets/js/101.cf19ba35.js"><link rel="prefetch" href="/assets/js/102.450d3240.js"><link rel="prefetch" href="/assets/js/11.f211f172.js"><link rel="prefetch" href="/assets/js/13.f2106ffe.js"><link rel="prefetch" href="/assets/js/14.d58bbbd1.js"><link rel="prefetch" href="/assets/js/15.b537c350.js"><link rel="prefetch" href="/assets/js/16.6c503765.js"><link rel="prefetch" href="/assets/js/17.5748e21b.js"><link rel="prefetch" href="/assets/js/18.f83fc2d8.js"><link rel="prefetch" href="/assets/js/19.f3b204b3.js"><link rel="prefetch" href="/assets/js/20.ecb7f63a.js"><link rel="prefetch" href="/assets/js/21.3a6fb957.js"><link rel="prefetch" href="/assets/js/22.902996de.js"><link rel="prefetch" href="/assets/js/24.4f2700f3.js"><link rel="prefetch" href="/assets/js/25.365b5d23.js"><link rel="prefetch" href="/assets/js/26.1688108b.js"><link rel="prefetch" href="/assets/js/27.814fdb8c.js"><link rel="prefetch" href="/assets/js/28.c94d95f0.js"><link rel="prefetch" href="/assets/js/29.cbcff657.js"><link rel="prefetch" href="/assets/js/3.5a7b6175.js"><link rel="prefetch" href="/assets/js/30.ec38b169.js"><link rel="prefetch" href="/assets/js/31.7d911545.js"><link rel="prefetch" href="/assets/js/32.031b8218.js"><link rel="prefetch" href="/assets/js/33.3c8ae2cd.js"><link rel="prefetch" href="/assets/js/34.19f8ed76.js"><link rel="prefetch" href="/assets/js/35.45b10128.js"><link rel="prefetch" href="/assets/js/36.b562d4fd.js"><link rel="prefetch" href="/assets/js/37.88b56e94.js"><link rel="prefetch" href="/assets/js/38.183d6599.js"><link rel="prefetch" href="/assets/js/39.d13bda84.js"><link rel="prefetch" href="/assets/js/4.3f50a02f.js"><link rel="prefetch" href="/assets/js/40.5263f2d3.js"><link rel="prefetch" href="/assets/js/41.6f75bb6f.js"><link rel="prefetch" href="/assets/js/42.ce5d09bd.js"><link rel="prefetch" href="/assets/js/43.7b5f7e12.js"><link rel="prefetch" href="/assets/js/44.b3b1807c.js"><link rel="prefetch" href="/assets/js/45.b65b24c8.js"><link rel="prefetch" href="/assets/js/46.c9144f67.js"><link rel="prefetch" href="/assets/js/47.c7d187c5.js"><link rel="prefetch" href="/assets/js/48.3685e019.js"><link rel="prefetch" href="/assets/js/49.343f3e48.js"><link rel="prefetch" href="/assets/js/50.e44e4ea3.js"><link rel="prefetch" href="/assets/js/51.b212b030.js"><link rel="prefetch" href="/assets/js/52.3d8b3d00.js"><link rel="prefetch" href="/assets/js/53.a046fef6.js"><link rel="prefetch" href="/assets/js/54.85a2cfe4.js"><link rel="prefetch" href="/assets/js/55.3e1b4a48.js"><link rel="prefetch" href="/assets/js/56.4ad0610b.js"><link rel="prefetch" href="/assets/js/57.e9829dad.js"><link rel="prefetch" href="/assets/js/58.f6752e0b.js"><link rel="prefetch" href="/assets/js/59.07ff7b7f.js"><link rel="prefetch" href="/assets/js/60.dee3bd16.js"><link rel="prefetch" href="/assets/js/61.51e856f8.js"><link rel="prefetch" href="/assets/js/62.1f47dd99.js"><link rel="prefetch" href="/assets/js/63.2b6301fc.js"><link rel="prefetch" href="/assets/js/64.5e636c30.js"><link rel="prefetch" href="/assets/js/65.b9d5a48b.js"><link rel="prefetch" href="/assets/js/66.0089b53d.js"><link rel="prefetch" href="/assets/js/67.7906c653.js"><link rel="prefetch" href="/assets/js/68.8ca56934.js"><link rel="prefetch" href="/assets/js/69.f67c0d82.js"><link rel="prefetch" href="/assets/js/70.856c1671.js"><link rel="prefetch" href="/assets/js/71.a0626c11.js"><link rel="prefetch" href="/assets/js/72.7fec6743.js"><link rel="prefetch" href="/assets/js/73.83487f3f.js"><link rel="prefetch" href="/assets/js/74.8f0a9085.js"><link rel="prefetch" href="/assets/js/75.a558d65d.js"><link rel="prefetch" href="/assets/js/76.d2819249.js"><link rel="prefetch" href="/assets/js/77.a106452c.js"><link rel="prefetch" href="/assets/js/78.b570ecff.js"><link rel="prefetch" href="/assets/js/79.9ce9ff4d.js"><link rel="prefetch" href="/assets/js/8.bc6e28c0.js"><link rel="prefetch" href="/assets/js/80.3a217101.js"><link rel="prefetch" href="/assets/js/81.979a1147.js"><link rel="prefetch" href="/assets/js/82.f7145e23.js"><link rel="prefetch" href="/assets/js/83.139f70a1.js"><link rel="prefetch" href="/assets/js/84.7cbd7e9b.js"><link rel="prefetch" href="/assets/js/85.c3a90586.js"><link rel="prefetch" href="/assets/js/86.b6c6cd19.js"><link rel="prefetch" href="/assets/js/87.e6dcfbf9.js"><link rel="prefetch" href="/assets/js/88.67e6117f.js"><link rel="prefetch" href="/assets/js/89.f77a0746.js"><link rel="prefetch" href="/assets/js/90.de104bd7.js"><link rel="prefetch" href="/assets/js/91.e5b084cc.js"><link rel="prefetch" href="/assets/js/92.f2e8eef1.js"><link rel="prefetch" href="/assets/js/93.35568f6d.js"><link rel="prefetch" href="/assets/js/94.a33ad1da.js"><link rel="prefetch" href="/assets/js/95.9a8566ab.js"><link rel="prefetch" href="/assets/js/96.7196fa8e.js"><link rel="prefetch" href="/assets/js/97.e1157379.js"><link rel="prefetch" href="/assets/js/98.fdf5a6dc.js"><link rel="prefetch" href="/assets/js/99.7c67dc8b.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.62e5c8ab.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ca1297bc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">NativeScript-Vue-Examples</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/cn/getting-started/1-quick-start.html" class="nav-link">
  教程
</a></div><div class="nav-item"><a href="/blog/detecting-shakes-in-nativescript.html" class="nav-link">
  博文
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title">工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具" class="mobile-dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          在线工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.nativescriptthemebuilder.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  nativescript theme builder
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.nslayouts.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  learn nativescript layouts
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://play.nativescript.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  playground
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          本机工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://pan.baidu.com/s/1SZb6PG_6V3QUNlinGr7TcA" target="_blank" rel="noopener noreferrer" class="nav-link external">
  android tools download
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="/tools/nativescript-vue-extend/nativescript-vue-extend.html" class="nav-link">
  nativescript-vue-extend
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="友链" class="dropdown-title"><span class="title">友链</span> <span class="arrow down"></span></button> <button type="button" aria-label="友链" class="mobile-dropdown-title"><span class="title">友链</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/nuochong/nativescript-vue-examples" target="_blank" rel="noopener noreferrer" class="nav-link external">
  nativescript-vue-examples
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://nativescript-vue.org/cn/docs/introduction/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  nativescript-vue.org
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://vue-auto-complete.luzhaoyang.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vue-auto-complete
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://luzhaoyang.com/zh/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  nest
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <a href="https://github.com/nuochong/nativescript-vue-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/cn/getting-started/1-quick-start.html" class="nav-link">
  教程
</a></div><div class="nav-item"><a href="/blog/detecting-shakes-in-nativescript.html" class="nav-link">
  博文
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title">工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具" class="mobile-dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          在线工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.nativescriptthemebuilder.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  nativescript theme builder
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://www.nslayouts.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  learn nativescript layouts
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://play.nativescript.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  playground
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          本机工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://pan.baidu.com/s/1SZb6PG_6V3QUNlinGr7TcA" target="_blank" rel="noopener noreferrer" class="nav-link external">
  android tools download
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="/tools/nativescript-vue-extend/nativescript-vue-extend.html" class="nav-link">
  nativescript-vue-extend
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="友链" class="dropdown-title"><span class="title">友链</span> <span class="arrow down"></span></button> <button type="button" aria-label="友链" class="mobile-dropdown-title"><span class="title">友链</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/nuochong/nativescript-vue-examples" target="_blank" rel="noopener noreferrer" class="nav-link external">
  nativescript-vue-examples
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://nativescript-vue.org/cn/docs/introduction/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  nativescript-vue.org
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://vue-auto-complete.luzhaoyang.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vue-auto-complete
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://luzhaoyang.com/zh/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  nest
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <a href="https://github.com/nuochong/nativescript-vue-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>博客</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/detecting-shakes-in-nativescript.html" class="sidebar-link">在 NativeScript 中检测震动</a></li><li><a href="/blog/whats-new-with-nativescript-dev-appium.html" class="sidebar-link">nativescript-dev-appium 有什么新功能？</a></li><li><a href="/blog/language-detection-with-nativescript-and-azure-cognitive-services.html" class="sidebar-link">使用 NativeScript 和 Azure 认知服务进行语言检测</a></li><li><a href="/blog/automatic-nativescript-app-deployments-with-fastlane.html" class="sidebar-link">快速通道自动部署 NativeScript 应用程序</a></li><li><a href="/blog/tabs-and-bottomnavigation-nativescripts-two-new-components.html" class="sidebar-link">选项卡和 BottomNavigation-NativeScript 的两个新组件</a></li><li><a href="/blog/getting-your-route-on-with-nativescript-vue-episode-one.html" class="sidebar-link">使用 NativeScript-Vue 入门：第一集</a></li><li><a href="/blog/getting-your-route-on-with-nativescript-vue-episode-two.html" class="sidebar-link">使用 NativeScript-Vue 入门：第二集</a></li><li><a href="/blog/tips-for-vue-developers-picking-up-nativescript.html" class="sidebar-link">Vue 开发人员选择 NativeScript 的技巧</a></li><li><a href="/blog/working-with-vuex-in-your-nativescript-vue-application-now-with-cats.html" class="sidebar-link">在 NativeScript-Vue 应用程序中使用 Vuex-现在使用 Cats！</a></li><li><a href="/blog/working-with-vuex-in-your-nativescript-vue-application.html" class="sidebar-link">在 NativeScript-Vue 应用程序中使用 Vuex</a></li><li><a href="/blog/building-responsive-apps-with-nativescript.html" class="sidebar-link">使用 NativeScript 构建响应式应用程序</a></li><li><a href="/blog/client-side-storage-in-nativescript-applications.html" aria-current="page" class="active sidebar-link">NativeScript 应用程序中的客户端存储</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/dependency-versions-in-nativescript-playground.html" class="sidebar-link">NativeScript Playground 中的依赖项版本</a></li><li><a href="/blog/migrating-nativescript-plugins-to-androidx.html" class="sidebar-link">将 NativeScript 插件迁移到 AndroidX</a></li><li><a href="/blog/offloading-tasks-to-worker-threads-with-nativescript.html" class="sidebar-link">使用 NativeScript 将任务卸载到辅助线程</a></li><li><a href="/blog/how-to-convince-management-to-use-nativescript-for-mobile-app-development.html" class="sidebar-link">如何说服管理层使用 NativeScript 进行移动应用开发</a></li><li><a href="/blog/migrating-cli-hooks-to-nativescript-6.0.html" class="sidebar-link">将 CLI 挂钩迁移到 NativeScript 6.0</a></li><li><a href="/blog/nativescript-6.0-application-migration.html" class="sidebar-link">迁移到 NativeScript 6.0</a></li><li><a href="/blog/the-new-ios-runtime-powered-by-v8.html" class="sidebar-link">由 V8 提供支持的新 iOS 运行时</a></li><li><a href="/blog/updates-in-the-nativescript-cli-6.0-bundle-workflow-webpack-only-and-hmr-by-default.html" class="sidebar-link">NativeScript CLI 6.0 中的更新：默认情况下捆绑工作流，仅 Webpack 和 HMR</a></li><li><a href="/blog/nativescript-now-supports-angular-8.html" class="sidebar-link">NativeScript 现在支持 Angular 8</a></li><li><a href="/blog/listview-radlistview-and-repeater-why-do-i-need-three.html" class="sidebar-link">ListView，RadListView 和 Repeater-为什么需要三个？</a></li><li><a href="/blog/what-the-apple-supreme-court-decision-means-for-developers.html" class="sidebar-link">苹果最高法院的判决对开发商意味着什么</a></li><li><a href="/blog/managing-component-state-in-nativescript-listview.html" class="sidebar-link">在 NativeScript ListView 中管理组件状态</a></li><li><a href="/blog/adding-objective-c-code-to-a-nativescript-app.html" class="sidebar-link">将 Objective-C 代码添加到 NativeScript 应用程序</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="nativescript-应用程序中的客户端存储"><a href="#nativescript-应用程序中的客户端存储" class="header-anchor">#</a> NativeScript 应用程序中的客户端存储</h3> <div class="meta wrapper"><div class="date-container"><span class="date">
    </span></div> · <span class="reading-time" data-v-ea2f7eb8>
</span></div> <p>在研究我想创建（并撰写！）的新 NativeScript-Vue 演示的大纲时，我发现了我尚未探索的 NativeScript 开发的另一个方面-客户端存储。我非常了解在 Web 应用程序中将数据存储在客户端上的各种方式，但是我还没有研究 NativeScript 支持什么。在本文中，我将讨论您可以做什么，显示一些示例，并对它们与标准 Web API 的关系进行比较。是的，将会有一个猫演示。</p> <h4 id="网络存储"><a href="#网络存储" class="header-anchor">#</a> 网络存储</h4> <p>尽管一段时间以来，浏览器一直在不断变化，但浏览器已经能够在客户端上存储数据了一段时间。从广义上讲，并且忽略了我们不会谈论的过时技术，网络存储归结为两种核心技术：</p> <ul><li>Web 存储（通常称为本地存储）是一种用于存储少量数据的简单“键/值”系统。当与大量数据一起使用时，它存在性能问题，但是我认为这是对技术的不当使用，而并不是规范本身的失败。它非常易于使用，非常适合诸如保存表格，购物车和用户首选项之类的事情。</li> <li>IndexedDB 的是不是一个简单的 API，但对于大数据进行搜索和过滤的需求更加合适。大致上，您可以将其与 MongoDB 和其他 NoSQL 类型的解决方案进行比较。</li></ul> <p>两者都有令人难以置信的良好支持。据 CanIUse 称，对网络存储的支持在所有浏览器中的支持率接近 97％，而 IndexedDB 的支持率接近 96％。显然，这些技术都不能替代“真正的”企业级存储服务器，但是它们都通过允许浏览器在页面视图上保留和持久保存数据，在存储数据和提高性能方面都非常有用。</p> <h4 id="用-nativescript-存储"><a href="#用-nativescript-存储" class="header-anchor">#</a> 用 NativeScript 存储</h4> <p>因此，我已经清楚地表明，我是从 Web 开发人员的角度进入 NativeScript 的，当我计划下一个演示应用程序时，我什至没有考虑存储方面的问题，因为我只是假设这是基于我的观点而定的。网站开发经验。当我意识到必须真正弄清楚我要用什么时，我迅速停下了脚步。幸运的是，我发现了多种存储数据的有用方法，这些方法实际上与我现有的知识非常相似。</p> <h4 id="使用-applicationsettings-保持简单"><a href="#使用-applicationsettings-保持简单" class="header-anchor">#</a> 使用 ApplicationSettings 保持简单</h4> <p>NativeScript 应用程序最简单的存储选项是 ApplicationSettings。如果您熟悉本地存储，则可以轻松使用此功能。与本地存储类似，ApplicationSettings 用于通过键名存储简单值。该 API 支持：</p> <ul><li>设定值（duh）</li> <li>获取价值（当然）</li> <li>检查值是否存在</li> <li>删除值</li> <li>删除所有内容</li> <li>如果需要较低级别的访问，还可以提供对 ApplicationSettings 包装的基础本机 API 的快速访问</li></ul> <p>ApplicationSettings 唯一真正的“复杂性”是存在用于处理布尔值，字符串和数字值的单独的 API。让我们来看一个实际的令人难以置信的简单示例。</p> <p>以下应用程序将仅跟踪其打开次数。琐碎，但实际上可能是您想要跟踪的一种很酷的指标。这是初始模板。</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Page</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>page<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ActionBar</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Home<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>action-bar<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ScrollView</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>StackLayout</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>home-panel<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token comment">&lt;!--Add your page content here--&gt;</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Label</span> <span class="token attr-name">textWrap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>numberOfVisits<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>StackLayout</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ScrollView</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Page</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span>
export default {
    data () {
        return {
            hits:0
        };
    },
    computed:{
        numberOfVisits() {
            return &quot;You've been here &quot; + this.hits + &quot; times.&quot;;
        }
    }
}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>我的观点只是<code>Label</code>绑定到我用来创建描述性消息的计算变量的元素。它 hits 现在利用的只是 0。现在让我们添加 ApplicationSettings 支持。首先，我们导入库：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> appSettings <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'tns-core-modules/application-settings'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>接下来，我们可以在<code>created</code>安装组件时添加方法来执行代码：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>hits <span class="token operator">=</span> appSettings<span class="token punctuation">.</span><span class="token function">getNumber</span><span class="token punctuation">(</span><span class="token string">&quot;hits&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>hits<span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>hits <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    appSettings<span class="token punctuation">.</span><span class="token function">setNumber</span><span class="token punctuation">(</span><span class="token string">&quot;hits&quot;</span><span class="token punctuation">,</span> <span class="token operator">++</span><span class="token keyword">this</span><span class="token punctuation">.</span>hits<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>我们首先从中加载值<code>appSettings</code>。注意事项<code>getNumber</code>。如我所说，<code>ApplicationSettings</code>支持加载布尔值，字符串和数字。所有的 API 都是一样的，只是方法名称在变化。因此，如果您想获取布尔值，则可以使用<code>getBoolean</code>并且显然<code>getString</code>用于字符串。</p> <p>如果未定义该值，则将其设置为 0，这可能看起来很奇怪，因为我已在代码 data 块中将其默认设置为 0 ，但否则会有所<code>undefined</code>不同。最后，在将值递增一之后，我将其存储回去。</p> <p>对此进行几次测试，每次保存代码并重新运行项目时，您都会看到数字递增。如果您使用的是 NativeScript Playground，它将是自动的。我们可以使代码更简单一些。</p> <p>与本地存储不同，它 A<code>pplicationSettings</code>支持为尚不存在的值提供默认值。只需提供默认值作为第二个参数即可完成此操作：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>hits <span class="token operator">=</span> appSettings<span class="token punctuation">.</span><span class="token function">getNumber</span><span class="token punctuation">(</span><span class="token string">'hits'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
appSettings<span class="token punctuation">.</span><span class="token function">setNumber</span><span class="token punctuation">(</span><span class="token string">'hits'</span><span class="token punctuation">,</span> <span class="token operator">++</span><span class="token keyword">this</span><span class="token punctuation">.</span>hits<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>您可以在此处查看和创建此简单项目的副本。</p></div> <p>让我们考虑另一个更真实的例子。想象一个应用程序，它允许用户自定义应用程序的配色方案。一种简单的方法是更改<code>ActionBar</code>顶部的颜色。为此，我们可以先将颜色绑定到一个值：</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ActionBar</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Home<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>action-bar<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>color<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>接下来，我们可以添加一个简单的字段，以允许用户编辑该值：</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Label</span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Enter RGB Color<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TextField</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>color<span class="token punctuation">&quot;</span></span> <span class="token attr-name">hint</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Try #00ff00<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>最后，这是处理读取当前值并在更改后对其进行更新的代码。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      color<span class="token operator">:</span> <span class="token string">'#ff0000'</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> appSettings<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">'color'</span><span class="token punctuation">,</span> <span class="token string">'#ff0000'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  watch<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">color</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      appSettings<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token string">'color'</span><span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>现在，在加载应用程序后，将从本地设置中读取颜色，并且用户可以随意更改颜色。</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>你可以在这里玩这个项目。</p></div> <p>要了解有关 ApplicationSettings 的更多信息，请务必阅读文档并记住，像所有客户端数据一样，绝对不应将其用于敏感数据！</p> <p>在继续之前，一定要知道有一个添加了 LocalStorage 和 SessionStorage API 的 NativeScript 插件：nativescript-localstorage。如果您只是想使用已经熟悉的 API，那么此插件可能会很方便。另一个原因是试图合并另一个需要 API 的库。</p> <h4 id="使用-couchdb-使其变得复杂"><a href="#使用-couchdb-使其变得复杂" class="header-anchor">#</a> 使用 CouchDB 使其变得复杂</h4> <p>好的，“复杂”不一定是最好的术语，但是对于更复杂的存储需求，Osei Fortune 的 CouchDB 插件是一个很好的解决方案。这个插件使存储各种临时数据变得容易，同时还提供了检索，更新，删除甚至搜索和排序数据的功能。不仅如此，您还可以在 NativeScript 应用程序和远程 CouchDB 服务器之间建立同步。</p> <p>首先，您需要通过将插件添加到您的应用程序中<code>tns plugin add nativescript-couchbase-plugin</code>。该插件无法在 Playground 上使用，因此您需要在本地进行测试。</p> <p>接下来，导入代码并创建一个数据库对象：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Couchbase <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'nativescript-couchbase-plugin'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> database <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Couchbase</span><span class="token punctuation">(</span><span class="token string">'my-database'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>在上面的代码中，<code>my-database</code>是 CouchDB 数据库的名称，并且可以是对您的应用程序有意义的任何名称。让我们看一个简单的示例，该示例简单地处理随机但持久的数据。</p> <p>应用程序的屏幕截图</p> <p>在上面的屏幕截图中，您可以看到猫的列表。列表下方是添加新猫的按钮。在一个更好的应用程序中，我将使用一种表格让您输入有关猫的详细信息，但为了简单起见，我使用了一些随机性来命名（和年龄）猫。现在让我们看一下代码。</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Page</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>page<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ActionBar</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>action-bar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Label</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>action-bar-title<span class="token punctuation">&quot;</span></span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Home<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Label</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ActionBar</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>StackLayout</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ListView</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cat in cats<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-template</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Label</span> <span class="token attr-name">:text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cat.name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Label</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>v-template</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ListView</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">@tap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>addCat<span class="token punctuation">&quot;</span></span> <span class="token attr-name">text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Add Cat<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Button</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>StackLayout</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Page</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span>
import { Couchbase } from 'nativescript-couchbase-plugin';
const database = new Couchbase('cat-db');
// function to make some mock data
function getRandomInt(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
}
function randomName() {
    var initialParts = [&quot;Fluffy&quot;,&quot;Scruffy&quot;,&quot;King&quot;,&quot;Queen&quot;,&quot;Emperor&quot;,&quot;Lord&quot;,&quot;Hairy&quot;,&quot;Smelly&quot;,&quot;Most Exalted Knight&quot;,&quot;Crazy&quot;,&quot;Silly&quot;,&quot;Dumb&quot;,&quot;Brave&quot;,&quot;Sir&quot;,&quot;Fatty&quot;];
    var lastParts = [&quot;Sam&quot;,&quot;Smoe&quot;,&quot;Elvira&quot;,&quot;Jacob&quot;,&quot;Lynn&quot;,&quot;Fufflepants the III&quot;,&quot;Squarehead&quot;,&quot;Redshirt&quot;,&quot;Titan&quot;,&quot;Kitten Zombie&quot;,&quot;Dumpster Fire&quot;,&quot;Butterfly Wings&quot;,&quot;Unicorn Rider&quot;];
    return initialParts[getRandomInt(0, initialParts.length - 1)] + ' ' + lastParts[getRandomInt(0, lastParts.length - 1)];
}
function getCats() {
    return database.query({
        select: [], // Leave empty to query for all
        order: [{ property: 'name', direction: 'asc' }]
    });
}
export default {
    data() {
        return {
            cats:[]
        }
    },
    created() {
        this.cats = getCats();
    },
    methods: {
        addCat() {
            let documentId = database.createDocument({
                &quot;name&quot;: randomName(),
                &quot;age&quot;: getRandomInt(1,10)
            });
            this.cats = getCats();
        }
    }
};
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>UI 处理遍历显示名称的 cat 猫数据。我的猫有名字和年龄，但显然您不必显示所有数据。底部的按钮负责执行我的逻辑以添加一只新猫。</p> <p>在应用程序逻辑内部，您可以看到我在哪里打开 CouchDB 数据库。我有一个实用程序函数，<code>getCats</code>它利用了<code>query</code>数据库对象的方法。我在这里没有进行任何过滤，只是进行排序，但是您可以按照自己的意愿对数据进行“切片和切块”。</p> <p>最后，<code>addCat</code>利用<code>createDocumentAPI</code>添加 cat。名称和年龄都是随机值，但是正如我上面所说，可以基于表单字段。</p> <p>基本上就是这样，但是一定要查看插件文档以获取更多示例，包括我上面提到的同步以及如何使用事务。</p> <h4 id="其他选择"><a href="#其他选择" class="header-anchor">#</a> 其他选择？</h4> <p>除了上面列出的内容外，还有其他选择。一种可能是使用 SQLite，如果您更加熟悉基于 SQL 的数据库，则该选项可能比 CouchDB 更可取。</p> <p>您也可以使用设备上的文件系统。我可能会避免将其用于“抽象数据”，而是将其用于存储图片和音频文件。</p> <p>和往常一样，我很想看看你做了什么。在下面为我提供您的示例以及对您有用（或无效）的评论！</p> <!----></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/nuochong/nativescript-vue-docs/edit/master/docs/blog/client-side-storage-in-nativescript-applications.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2019-12-17 23:05:35</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/building-responsive-apps-with-nativescript.html" class="prev">
        使用 NativeScript 构建响应式应用程序
      </a></span> <span class="next"><a href="/blog/dependency-versions-in-nativescript-playground.html">
        NativeScript Playground 中的依赖项版本
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.77081b16.js" defer></script><script src="/assets/js/7.7d754c08.js" defer></script><script src="/assets/js/23.a023ffe1.js" defer></script><script src="/assets/js/9.34b8a5e4.js" defer></script><script src="/assets/js/2.758fdfb9.js" defer></script><script src="/assets/js/1.2ee72ac7.js" defer></script><script src="/assets/js/10.8b7aa78d.js" defer></script><script src="/assets/js/12.8241bb75.js" defer></script>
  </body>
</html>
